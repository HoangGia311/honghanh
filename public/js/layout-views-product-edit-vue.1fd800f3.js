(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-product-edit-vue"],{"0474":function(e,t,a){"use strict";var i=a("7632"),r=a.n(i);r.a},"367d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.is_loading_page?a("div",{key:"is-loading",staticClass:"page"},[a("div",{staticClass:"page-body p-t-150 p-b-150 text-center"},[a("span",{staticClass:"spinner-border text-primary icon-loading"})])]):a("div",{key:"is-loading-success"},[e.is_error?a("div",{staticClass:"m-t-30"},[a("section",{staticClass:"zero-state full-width"},[a("article",[a("h1",[e._v("404")]),a("h3",[e._v("Data not found !")]),a("router-link",{staticClass:"button primary",attrs:{to:{name:"Product"}}},[e._v("\n\t\t\t\t\t\t\tBack to list\n\t\t\t\t\t\t")])],1)])]):a("div",{staticClass:"page page-center"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"page-title"},[a("h1",[e._v("Update Product")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-6"},[a("router-link",{staticClass:"button secondary btn-back",attrs:{to:{name:"Product"}}},[a("i",{staticClass:"icon-prev m-r-15"}),e._v(" Back\n\t\t\t\t\t\t\t")])],1),a("div",{staticClass:"col col-6 text-right"},[a("button",{class:{"is-loading":e.is_loading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[e._v("\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t")])])])]),a("div",{staticClass:"page-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-12"},[a("div",{staticClass:"card"},[a("ul",{staticClass:"tabs"},[a("li",{class:{active:"vi"==e.active}},[a("a",{attrs:{href:"#"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.active="vi"}}},[e._v("Vi")])]),a("li",{class:{active:"en"==e.active}},[a("a",{attrs:{href:"#"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.active="en"}}},[e._v("En")])]),a("li",{class:{active:"seo"==e.active}},[a("a",{attrs:{href:"#"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.active="seo"}}},[e._v("SEO")])])]),a("transition",{attrs:{name:"fade",mode:"out-in"}},["vi"==e.active?a("div",{key:"vi",staticClass:"card-section"},[a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.vi.name.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Vi Title ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vi.name,expression:"form.vi.name"}],attrs:{type:"text"},domProps:{value:e.form.vi.name},on:{input:function(t){t.target.composing||e.$set(e.form.vi,"name",t.target.value)}}})]),a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.vi.description.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Vi Description")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.form.vi.description,callback:function(t){e.$set(e.form.vi,"description",t)},expression:"form.vi.description"}})],1),a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.vi.properties.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Properties")]),a("div",e._l(e.form.vi.properties,function(t,i){return a("div",{key:"index_"+i,staticClass:"row"},[a("div",{staticClass:"col col-4"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),a("div",{staticClass:"col col-8"},[a("label",[e._v("Value")]),a("vue-tags-input",{attrs:{tags:t.children,placeholder:"add property"},on:{"tags-changed":function(e){return t.children=e}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)])}),0)])]):"en"==e.active?a("div",{key:"en",staticClass:"card-section"},[a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.en.name.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("En Title ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.en.name,expression:"form.en.name"}],attrs:{type:"text"},domProps:{value:e.form.en.name},on:{input:function(t){t.target.composing||e.$set(e.form.en,"name",t.target.value)}}})]),a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.en.description.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("En Description")]),a("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.form.en.description,callback:function(t){e.$set(e.form.en,"description",t)},expression:"form.en.description"}})],1),a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.en.properties.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Properties")]),a("div",e._l(e.form.en.properties,function(t,i){return a("div",{key:"index_"+i,staticClass:"row"},[a("div",{staticClass:"col col-4"},[a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}})]),a("div",{staticClass:"col col-8"},[a("label",[e._v("Value")]),a("vue-tags-input",{attrs:{tags:t.children,placeholder:"add property"},on:{"tags-changed":function(e){return t.children=e}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)])}),0)])]):"seo"==e.active?a("div",{key:"seo",staticClass:"card-section"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-3"},[a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.primary_image.$invalid}},[a("div",{staticClass:"box-item-image",on:{click:e.gallery}},[e.form.primary_image?[a("img",{attrs:{src:e.form.primary_image.path,alt:""}})]:[a("i",{staticClass:"icon-add-section"})]],2)])]),a("div",{staticClass:"col col-9"},[a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.meta.meta_title.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Meta title ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta.meta_title,expression:"form.meta.meta_title"}],attrs:{type:"text"},domProps:{value:e.form.meta.meta_title},on:{input:function(t){t.target.composing||e.$set(e.form.meta,"meta_title",t.target.value)}}})]),a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.meta.meta_description.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Meta description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta.meta_description,expression:"form.meta.meta_description"}],attrs:{type:"text"},domProps:{value:e.form.meta.meta_description},on:{input:function(t){t.target.composing||e.$set(e.form.meta,"meta_description",t.target.value)}}})]),a("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.meta.meta_keyword.$invalid}},[a("label",{staticClass:"m-b-5"},[e._v("Meta keyword ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta.meta_keyword,expression:"form.meta.meta_keyword"}],attrs:{type:"text"},domProps:{value:e.form.meta.meta_keyword},on:{input:function(t){t.target.composing||e.$set(e.form.meta,"meta_keyword",t.target.value)}}})])])])]):e._e()])],1)])])])])])])},r=[],s=(a("7f7f"),a("cebc")),o=a("b5ae"),n=a("2f62"),c=a("c7a0"),l=a.n(c),m=a("5fd3"),d=a.n(m),v={name:"UpdateProduct",components:{VueTagsInput:l.a},data:function(){return{formstate:!1,is_loading_page:!1,is_loading:!1,is_error:!1,active:"vi",editor:d.a,editorConfig:{},form:{primary_image:"",vi:{name:"",description:"",properties:[{name:"Độ Đạm",value:"",children:[]},{name:"Thể tích",value:"",children:[]}]},en:{name:"",description:"",properties:[{name:"Do dam",value:"",children:[]},{name:"The tich",value:"",children:[]}]},meta:{meta_title:"",meta_description:"",meta_keyword:""}}}},methods:Object(s["a"])({},Object(n["b"])({update:"product/update",get:"product/get"}),{gallery:function(){var e=this;this.$gallery.show(function(t){e.form.primary_image=t})},submit:function(){var e=this;if(this.formstate=!0,!this.is_loading)if(0==this.$v.form.$invalid){this.is_loading=!0;var t=JSON.parse(JSON.stringify(this.form));t.vi.properties=t.vi.properties.map(function(e){var t={name:e.name,children:e.children.map(function(e){return{name:e.text}})};return t}),t.en.properties=t.en.properties.map(function(e){var t={name:e.name,children:e.children.map(function(e){return{name:e.text}})};return t}),t.primary_image=t.primary_image.id,this.update({id:this.form.id,formdata:t}).then(function(t){var a=t.data,i=a.code,r=a.message,s=void 0===r?"Oops.. Something Went Wrong.. !":r;i?(e.redirect({name:"Product"}),e.$toasted.success("Create Product successfully !")):e.$toasted.error(s)}).finally(function(){e.is_loading=!1})}else this.$toasted.error("Please check form !")}}),created:function(){var e=this;this.is_loading_page=!0,this.get(this.$route.params.id).then(function(t){var a=t.data,i=a.code,r=a.data;a.message;if(i){var s=r.product;e.form={id:s.id,primary_image:s.image,vi:{name:s.vi.name,description:s.vi.description,properties:s.vi.properties.map(function(e){return{name:e.name,value:"",children:e.children.map(function(e){return{text:e.name}})}})},en:{name:s.en.name,description:s.en.description,properties:s.en.properties.map(function(e){return{name:e.name,value:"",children:e.children.map(function(e){return{text:e.name}})}})},meta:s.meta}}else e.is_error=!0}).catch(function(){e.is_error=!0}).finally(function(){e.is_loading_page=!1})},validations:function(){return{form:{vi:{name:{required:o["required"]},description:{required:o["required"]},properties:{required:o["required"],$each:{name:{required:o["required"]},value:{},children:{required:o["required"]}}}},en:{name:{required:o["required"]},description:{required:o["required"]},properties:{required:o["required"],$each:{name:{required:o["required"]},value:{},children:{required:o["required"]}}}},primary_image:{required:o["required"]},meta:{meta_title:{required:o["required"]},meta_description:{required:o["required"]},meta_keyword:{required:o["required"]}}}}}},u=v,p=(a("0474"),a("2877")),f=Object(p["a"])(u,i,r,!1,null,"3e4a4eb0",null);t["default"]=f.exports},7632:function(e,t,a){}}]);
//# sourceMappingURL=layout-views-product-edit-vue.1fd800f3.js.map