{"version":3,"sources":["webpack:///./src/views/product/index.vue?aa97","webpack:///src/views/product/index.vue","webpack:///./src/views/product/index.vue?a651","webpack:///./src/views/product/index.vue","webpack:///./src/views/product/index.vue?473e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","name","_v","directives","rawName","value","pagination","expression","domProps","on","onKeyword","$event","target","composing","$set","key","data","_l","item","index","_s","limit","current_page","image","path","vi","alias","params","id","stopPropagation","preventDefault","remove","last_page","model","callback","$$v","staticRenderFns","component"],"mappings":"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","file":"js/layout-views-product-index-vue.ac5eab5e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"page-header\"},[_vm._m(0),_c('div',{staticClass:\"page-actions\"},[_c('router-link',{staticClass:\"button\",attrs:{\"to\":{ name : 'CreateProduct'}}},[_vm._v(\"\\n                    Add product\\n                \")])],1)]),_c('div',{staticClass:\"page-body\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-section\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-12 m-b-30\"},[_c('div',{staticClass:\"input-group\"},[_c('button',{staticClass:\"secondary\"},[_vm._v(\"Filters\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pagination.keyword),expression:\"pagination.keyword\"}],attrs:{\"type\":\"search\"},domProps:{\"value\":(_vm.pagination.keyword)},on:{\"keyup\":_vm.onKeyword,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.pagination, \"keyword\", $event.target.value)}}})])])]),_c('div',{staticClass:\"row\"},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.is_loading)?_c('div',{key:\"is-loading\",staticClass:\"col col-12\"},[_c('div',{staticClass:\"text-center p-t-80 p-b-80\"},[_c('div',{staticClass:\"spinner-border icon-loading text-primary\"})])]):_c('div',{key:\"is-loading-success\",staticClass:\"col col-12\"},[_c('table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"td-index\"},[_vm._v(\"#\")]),_c('th',{staticClass:\"td-image\"},[_vm._v(\"Image\")]),_c('th',{staticClass:\"td-name\"},[_vm._v(\"Name\")]),_c('th',{staticClass:\"td-email\"},[_vm._v(\"Alias\")]),_c('th',{staticClass:\"td-actions\"},[_vm._v(\"Actions\")])])]),_c('tbody',[(_vm.pagination.data.length)?_vm._l((_vm.pagination.data),function(item,index){return _c('tr',{key:(\"index_\" + index)},[_c('td',{staticClass:\"td-index\"},[_vm._v(\"\\n                                                    \"+_vm._s(_vm.pagination.limit * ( _vm.pagination.current_page - 1) + index + 1)+\"\\n                                                \")]),_c('td',{staticClass:\"td-image\"},[_c('div',{staticClass:\"item-image\"},[(item.image)?[_c('img',{attrs:{\"src\":item.image.path,\"alt\":\"\"}})]:[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tNo image\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")]],2)]),_c('td',{staticClass:\"td-name\"},[_vm._v(\"\\n                                                    \"+_vm._s(item.vi ? item.vi.name : '')+\"\\n                                                \")]),_c('td',{staticClass:\"td-email\"},[_vm._v(\"\\n                                                    \"+_vm._s(item.alias)+\"\\n                                                \")]),_c('td',{staticClass:\"td-actions\"},[_c('router-link',{staticClass:\"button secondary icon-edit\",attrs:{\"to\":{ name : 'EditProduct' , params : { id : item.id}}}}),_c('button',{staticClass:\"secondary icon-trash\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.remove(item.id)}}})],1)])}):[_c('tr',[_c('td',{staticClass:\"text-center  p-t-30 p-b-30\",attrs:{\"colspan\":\"20\"}},[_c('h3',[_vm._v(\"\\n                                                        Could not find any categories\\n                                                    \")])])])]],2)]),_c('div',{staticClass:\"text-center m-t-20\"},[_c('pagination',{attrs:{\"total\":_vm.pagination.last_page},model:{value:(_vm.pagination.current_page),callback:function ($$v) {_vm.$set(_vm.pagination, \"current_page\", $$v)},expression:\"pagination.current_page\"}})],1)])])],1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-title\"},[_c('h1',[_vm._v(\"Products\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"page\">\n        <div class=\"page-header\">\n            <div class=\"page-title\">\n                <h1>Products</h1>\n            </div>\n            <div class=\"page-actions\">\n                <router-link class=\"button\" :to=\"{ name : 'CreateProduct'}\">\n                    Add product\n                </router-link>\n            </div>\n        </div>\n        <div class=\"page-body\">\n            <div class=\"card\">\n                <div class=\"card-section\">\n                    <div class=\"row\">\n                        <div class=\"col col-12 m-b-30\">\n                            <div class=\"input-group\">\n                                <button class=\"secondary\">Filters</button>\n                                <input type=\"search\" v-model=\"pagination.keyword\" @keyup=\"onKeyword\"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <transition name=\"fade\" mode=\"out-in\">    \n                            <div class=\"col col-12\" v-if=\"is_loading\" key=\"is-loading\">\n                                <div class=\"text-center p-t-80 p-b-80\">\n                                    <div class=\"spinner-border icon-loading text-primary\"></div>\n                                </div>\n                            </div>\n                            <div class=\"col col-12\" v-else key=\"is-loading-success\">\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th class=\"td-index\">#</th>\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"td-image\">Image</th>\n                                            <th class=\"td-name\">Name</th>\n                                            <th class=\"td-email\">Alias</th>\n                                            <th class=\"td-actions\">Actions</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <template v-if=\"pagination.data.length\">\n                                            <tr v-for=\"(item , index) in pagination.data\" :key=\"`index_${index}`\">\n                                                <td class=\"td-index\">\n                                                    {{ pagination.limit * ( pagination.current_page - 1) + index + 1 }}\n                                                </td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"td-image\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"item-image\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.image\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"item.image.path\" alt=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n                                                </td>\n                                                <td class=\"td-name\">\n                                                    {{ item.vi ? item.vi.name : '' }}\n                                                </td>\n                                                <td class=\"td-email\">\n                                                    {{ item.alias }}\n                                                </td>\n                                                <td class=\"td-actions\">\n                                                    <router-link class=\"button secondary icon-edit\" :to=\"{ name : 'EditProduct' , params : { id : item.id}}\"></router-link>\n                                                    <button class=\"secondary icon-trash\" @click.stop.prevent=\"remove(item.id)\"></button>\n                                                </td>\n                                            </tr>\n                                        </template>\n                                        <template v-else>\n                                            <tr>\n                                                <td colspan=\"20\" class=\"text-center  p-t-30 p-b-30\">\n                                                    <h3>\n                                                        Could not find any categories\n                                                    </h3>\n                                                </td>\n                                            </tr>\n                                        </template>\n                                    </tbody>\n                                </table>\n                                <div class=\"text-center m-t-20\">\n                                    <pagination v-model=\"pagination.current_page\" :total=\"pagination.last_page\" ></pagination>\n                                </div>\n                            </div>\n                        </transition>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { mapActions  } from 'vuex'\nexport default {\n    name : 'Discount',\n    data(){\n        return {\n            pagination :{\n                last_page : 0,\n                current_page : 1,\n                total : 0,\n                limit : 10,\n                data : [],\n                keyword : '',\n            },\n            timeout: null,\n            is_error : null,\n            is_loading : false,\n        }\n    },\n    methods : {\n        ...mapActions({\n            fetchData : 'product/list',\n            delete : 'product/delete'\n        }),\n        getList(route){\n            this.is_loading = true\n            var page = route.query.page ? route.query.page : 1 \n            var keyword = route.query.keyword ? route.query.keyword :  ''\n            var limit = this.pagination.limit \n            this.fetchData({ \n                page , \n                keyword,\n                limit,\n            })\n            .then((res)=>{\n                let { code = 0 , data  } = res.data\n                if( code ){\n                    this.is_error = null\n                    this.pagination = Object.assign(this.pagination , data )\n                }else{\n                    this.is_error = true\n                }\n            }).catch(err=>{\n                this.is_error = true\n            })\n            .finally(()=>{\n                this.is_loading = false\n            })\n        },\n        reload(){\n            this.getList(this.$route)\n        },\n        onChangeKeyword(){\n            var query = {}\n            var keyword = this.pagination.keyword.trim()\n            if( keyword ){\n                query['keyword'] = keyword\n            }\n            this.pushRouterLinkDefault({\n                query : query\n            })\n        },\n        onKeyword(event){\n            clearTimeout(this.timeout)\n            if( event.keyCode == 13){\n                if( typeof this.onChangeKeyword == 'function'){\n                    this.onChangeKeyword()\n                }\n            }else{\n                this.timeout = setTimeout(() => {\n                    if( typeof this.onChangeKeyword == 'function'){\n                        this.onChangeKeyword()\n                    }\n                }, 1000);\n            }\n        },\n        remove(id){\n            this.$confirm.show({\n                title : 'Confirm',\n                content : 'Do do want to delete this product ?',\n                btnSave : 'Delete',\n                btnSaveClass : 'warning',\n                btnClose: 'Cancel',\n                onSave : () => {\n                    return new Promise((resolve , reject) =>{\n                        this.delete(id).then((res)=>{\n                            let { code  , message = ''} = res.data \n                            if( code ){\n                                this.reload()\n                                this.$toasted.success(message)\n                            }else{\n                                this.$toasted.error(message)\n                            }\n                        })\n                        .catch((err)=>{\n                            console.log(err)\n                            this.$toasted.error('Error !')\n                        })\n                        .finally((res)=>{\n                            resolve()\n                        })\n                    })\n                }\n            })\n        },\n    },\n    beforeRouteUpdate (to, from, next) {\n        this.getList(to)\n        next()\n    },\n    created(){\n        this.pagination.keyword = this.$route.query.keyword ? this.$route.query.keyword :  ''\n        this.getList(this.$route)\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n    .td{\n        &-index{\n            width: 50px;\n            text-align: center;\n        }\n        &-name{\n\n\t\t}\n\t\t&-image{\n\t\t\tmax-width: 100px;\n\t\t\twidth: 100px;\n\t\t\tmin-width: 100px;\n\t\t\t.item-image{\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tborder: 1px soldi #ddd;\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\timg{\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\tmax-height: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n        &-actions{\n            width: 150px;\n            text-align: center;\n        }\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fd022620&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=fd022620&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd022620\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fd022620&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fd022620&lang=scss&scoped=true&\""],"sourceRoot":""}