(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-product-index-vue"],{b66e:function(t,a,e){},e6e2:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page"},[e("div",{staticClass:"page-header"},[t._m(0),e("div",{staticClass:"page-actions"},[e("router-link",{staticClass:"button",attrs:{to:{name:"CreateProduct"}}},[t._v("\n                    Add product\n                ")])],1)]),e("div",{staticClass:"page-body"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-section"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-12 m-b-30"},[e("div",{staticClass:"input-group"},[e("button",{staticClass:"secondary"},[t._v("Filters")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pagination.keyword,expression:"pagination.keyword"}],attrs:{type:"search"},domProps:{value:t.pagination.keyword},on:{keyup:t.onKeyword,input:function(a){a.target.composing||t.$set(t.pagination,"keyword",a.target.value)}}})])])]),e("div",{staticClass:"row"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.is_loading?e("div",{key:"is-loading",staticClass:"col col-12"},[e("div",{staticClass:"text-center p-t-80 p-b-80"},[e("div",{staticClass:"spinner-border icon-loading text-primary"})])]):e("div",{key:"is-loading-success",staticClass:"col col-12"},[e("table",[e("thead",[e("tr",[e("th",{staticClass:"td-index"},[t._v("#")]),e("th",{staticClass:"td-image"},[t._v("Image")]),e("th",{staticClass:"td-name"},[t._v("Name")]),e("th",{staticClass:"td-email"},[t._v("Alias")]),e("th",{staticClass:"td-actions"},[t._v("Actions")])])]),e("tbody",[t.pagination.data.length?t._l(t.pagination.data,function(a,i){return e("tr",{key:"index_"+i},[e("td",{staticClass:"td-index"},[t._v("\n                                                    "+t._s(t.pagination.limit*(t.pagination.current_page-1)+i+1)+"\n                                                ")]),e("td",{staticClass:"td-image"},[e("div",{staticClass:"item-image"},[a.image?[e("img",{attrs:{src:a.image.path,alt:""}})]:[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]],2)]),e("td",{staticClass:"td-name"},[t._v("\n                                                    "+t._s(a.vi?a.vi.name:"")+"\n                                                ")]),e("td",{staticClass:"td-email"},[t._v("\n                                                    "+t._s(a.alias)+"\n                                                ")]),e("td",{staticClass:"td-actions"},[e("router-link",{staticClass:"button secondary icon-edit",attrs:{to:{name:"EditProduct",params:{id:a.id}}}}),e("button",{staticClass:"secondary icon-trash",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.remove(a.id)}}})],1)])}):[e("tr",[e("td",{staticClass:"text-center  p-t-30 p-b-30",attrs:{colspan:"20"}},[e("h3",[t._v("\n                                                        Could not find any categories\n                                                    ")])])])]],2)]),e("div",{staticClass:"text-center m-t-20"},[e("pagination",{attrs:{total:t.pagination.last_page},model:{value:t.pagination.current_page,callback:function(a){t.$set(t.pagination,"current_page",a)},expression:"pagination.current_page"}})],1)])])],1)])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-title"},[e("h1",[t._v("Products")])])}],s=e("cebc"),o=e("2f62"),r={name:"Discount",data:function(){return{pagination:{last_page:0,current_page:1,total:0,limit:10,data:[],keyword:""},timeout:null,is_error:null,is_loading:!1}},methods:Object(s["a"])({},Object(o["b"])({fetchData:"product/list",delete:"product/delete"}),{getList:function(t){var a=this;this.is_loading=!0;var e=t.query.page?t.query.page:1,i=t.query.keyword?t.query.keyword:"",n=this.pagination.limit;this.fetchData({page:e,keyword:i,limit:n}).then(function(t){var e=t.data,i=e.code,n=void 0===i?0:i,s=e.data;n?(a.is_error=null,a.pagination=Object.assign(a.pagination,s)):a.is_error=!0}).catch(function(t){a.is_error=!0}).finally(function(){a.is_loading=!1})},reload:function(){this.getList(this.$route)},onChangeKeyword:function(){var t={},a=this.pagination.keyword.trim();a&&(t["keyword"]=a),this.pushRouterLinkDefault({query:t})},onKeyword:function(t){var a=this;clearTimeout(this.timeout),13==t.keyCode?"function"==typeof this.onChangeKeyword&&this.onChangeKeyword():this.timeout=setTimeout(function(){"function"==typeof a.onChangeKeyword&&a.onChangeKeyword()},1e3)},remove:function(t){var a=this;this.$confirm.show({title:"Confirm",content:"Do do want to delete this product ?",btnSave:"Delete",btnSaveClass:"warning",btnClose:"Cancel",onSave:function(){return new Promise(function(e,i){a.delete(t).then(function(t){var e=t.data,i=e.code,n=e.message,s=void 0===n?"":n;i?(a.reload(),a.$toasted.success(s)):a.$toasted.error(s)}).catch(function(t){console.log(t),a.$toasted.error("Error !")}).finally(function(t){e()})})}})}}),beforeRouteUpdate:function(t,a,e){this.getList(t),e()},created:function(){this.pagination.keyword=this.$route.query.keyword?this.$route.query.keyword:"",this.getList(this.$route)}},c=r,d=(e("fcde"),e("2877")),l=Object(d["a"])(c,i,n,!1,null,"fd022620",null);a["default"]=l.exports},fcde:function(t,a,e){"use strict";var i=e("b66e"),n=e.n(i);n.a}}]);
//# sourceMappingURL=layout-views-product-index-vue.41841814.js.map