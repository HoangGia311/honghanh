(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-post-index-vue"],{"626c":function(t,a,i){},d99d:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"page"},[i("div",{staticClass:"page-header"},[t._m(0),i("div",{staticClass:"page-actions"},[i("router-link",{staticClass:"button",attrs:{to:{name:"CreatePost"}}},[t._v("\n                    Add Post\n                ")])],1)]),i("div",{staticClass:"page-body"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-12 m-b-30"},[i("div",{staticClass:"input-group"},[i("button",{staticClass:"secondary"},[t._v("Filters")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pagination.keyword,expression:"pagination.keyword"}],attrs:{type:"search"},domProps:{value:t.pagination.keyword},on:{keyup:t.onKeyword,input:function(a){a.target.composing||t.$set(t.pagination,"keyword",a.target.value)}}})])])]),i("div",{staticClass:"row"},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.is_loading?i("div",{key:"is-loading",staticClass:"col col-12"},[i("div",{staticClass:"text-center p-t-80 p-b-80"},[i("div",{staticClass:"spinner-border icon-loading text-primary"})])]):i("div",{key:"is-loading-success",staticClass:"col col-12"},[i("table",[i("thead",[i("tr",[i("th",{staticClass:"td-index"},[t._v("#")]),i("th",{staticClass:"td-image"},[t._v("Image")]),i("th",{staticClass:"td-name"},[t._v("Title")]),i("th",{staticClass:"td-email"},[t._v("Alias")]),i("th",{staticClass:"td-actions"},[t._v("Actions")])])]),i("tbody",[t.pagination.data.length?t._l(t.pagination.data,function(a,e){return i("tr",{key:"index_"+e},[i("td",{staticClass:"td-index"},[t._v("\n                                                    "+t._s(t.pagination.limit*(t.pagination.current_page-1)+e+1)+"\n                                                ")]),i("td",{staticClass:"td-image"},[i("div",{staticClass:"item-image"},[a.image?[i("img",{attrs:{src:a.image.path,alt:""}})]:[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo image\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]],2)]),i("td",{staticClass:"td-name"},[t._v("\n                                                    "+t._s(a.vi?a.vi.title:"")+"\n                                                ")]),i("td",{staticClass:"td-email"},[t._v("\n                                                    "+t._s(a.alias)+"\n                                                ")]),i("td",{staticClass:"td-actions"},[i("router-link",{staticClass:"button secondary icon-edit",attrs:{to:{name:"EditPost",params:{id:a.id}}}}),i("button",{staticClass:"secondary icon-trash",on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.remove(a.id)}}})],1)])}):[i("tr",[i("td",{staticClass:"text-center  p-t-30 p-b-30",attrs:{colspan:"20"}},[i("h3",[t._v("\n                                                        Could not find any post\n                                                    ")])])])]],2)]),i("div",{staticClass:"text-center m-t-20"},[i("pagination",{attrs:{total:t.pagination.last_page},model:{value:t.pagination.current_page,callback:function(a){t.$set(t.pagination,"current_page",a)},expression:"pagination.current_page"}})],1)])])],1)])])])])},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"page-title"},[i("h1",[t._v("Posts")])])}],s=i("cebc"),o=i("2f62"),r={name:"Discount",data:function(){return{pagination:{last_page:0,current_page:1,total:0,limit:10,data:[],keyword:""},timeout:null,is_error:null,is_loading:!1}},methods:Object(s["a"])({},Object(o["b"])({fetchData:"post/list",delete:"post/delete"}),{getList:function(t){var a=this;this.is_loading=!0;var i=t.query.page?t.query.page:1,e=t.query.keyword?t.query.keyword:"",n=this.pagination.limit;this.fetchData({page:i,keyword:e,limit:n}).then(function(t){var i=t.data,e=i.code,n=void 0===e?0:e,s=i.data;n?(a.is_error=null,a.pagination=Object.assign(a.pagination,s)):a.is_error=!0}).catch(function(t){a.is_error=!0}).finally(function(){a.is_loading=!1})},reload:function(){this.getList(this.$route)},onChangeKeyword:function(){var t={},a=this.pagination.keyword.trim();a&&(t["keyword"]=a),this.pushRouterLinkDefault({query:t})},onKeyword:function(t){var a=this;clearTimeout(this.timeout),13==t.keyCode?"function"==typeof this.onChangeKeyword&&this.onChangeKeyword():this.timeout=setTimeout(function(){"function"==typeof a.onChangeKeyword&&a.onChangeKeyword()},1e3)},remove:function(t){var a=this;this.$confirm.show({title:"Confirm",content:"Do do want to delete this product ?",btnSave:"Delete",btnSaveClass:"warning",btnClose:"Cancel",onSave:function(){return new Promise(function(i,e){a.delete(t).then(function(t){var i=t.data,e=i.code,n=i.message,s=void 0===n?"":n;e?(a.reload(),a.$toasted.success(s)):a.$toasted.error(s)}).catch(function(t){console.log(t),a.$toasted.error("Error !")}).finally(function(t){i()})})}})}}),beforeRouteUpdate:function(t,a,i){this.getList(t),i()},created:function(){this.pagination.keyword=this.$route.query.keyword?this.$route.query.keyword:"",this.getList(this.$route)}},c=r,d=(i("ea45"),i("2877")),l=Object(d["a"])(c,e,n,!1,null,"13c5b4e2",null);a["default"]=l.exports},ea45:function(t,a,i){"use strict";var e=i("626c"),n=i.n(e);n.a}}]);
//# sourceMappingURL=layout-views-post-index-vue.4691ac92.js.map