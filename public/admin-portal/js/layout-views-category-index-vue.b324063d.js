(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-category-index-vue"],{"564d":function(t,e,a){"use strict";var i=a("84b2"),n=a.n(i);n.a},"84b2":function(t,e,a){},a192:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-actions"},[a("router-link",{staticClass:"button",attrs:{to:{name:"CreateCategory"}}},[t._v("\n                Add category\n            ")])],1)]),a("div",{staticClass:"page-body"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-section"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-12 m-b-30"},[a("div",{staticClass:"input-group"},[a("button",{staticClass:"button secondary"},[t._v("Filters")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pagination.keyword,expression:"pagination.keyword"}],attrs:{type:"search"},domProps:{value:t.pagination.keyword},on:{keyup:t.onKeyword,input:function(e){e.target.composing||t.$set(t.pagination,"keyword",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.is_loading?a("div",{key:"is-loading",staticClass:"col col-12"},[a("div",{staticClass:"text-center p-t-80 p-b-80"},[a("div",{staticClass:"spinner-border icon-loading text-primary"})])]):a("div",{key:"is-loading-success",staticClass:"col col-12"},[a("table",[a("thead",[a("tr",[a("th",{staticClass:"td-index"},[t._v("#")]),a("th",{staticClass:"td-name"},[t._v("Name")]),a("th",{staticClass:"td-email"},[t._v("Alias")]),a("th",{staticClass:"td-actions"},[t._v("Actions")])])]),a("tbody",[t.pagination.data.length?t._l(t.pagination.data,(function(e,i){return a("tr",{key:"index_"+i},[a("td",{staticClass:"td-index"},[t._v("\n                                                "+t._s(t.pagination.limit*(t.pagination.current_page-1)+i+1)+"\n                                            ")]),a("td",{staticClass:"td-name"},[t._v("\n                                                "+t._s(e.vi?e.vi.name:"")+"\n                                            ")]),a("td",{staticClass:"td-email"},[t._v("\n                                                "+t._s(e.alias)+"\n                                            ")]),a("td",{staticClass:"td-actions"},[a("router-link",{staticClass:"button secondary icon-edit",attrs:{to:{name:"EditCategory",params:{id:e.id}}}}),a("button",{staticClass:"button secondary icon-trash",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.remove(e.id)}}})],1)])})):[a("tr",[a("td",{staticClass:"text-center  p-t-30 p-b-30",attrs:{colspan:"20"}},[a("h3",[t._v("\n                                                    Could not find any categories\n                                                ")])])])]],2)]),a("div",{staticClass:"text-center m-t-20"},[a("pagination",{attrs:{total:t.pagination.last_page},model:{value:t.pagination.current_page,callback:function(e){t.$set(t.pagination,"current_page",e)},expression:"pagination.current_page"}})],1)])])],1)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[a("h1",[t._v("Categories")])])}],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("2f62");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(a,!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"Discount",data:function(){return{pagination:{last_page:0,current_page:1,total:0,limit:10,data:[],keyword:""},timeout:null,is_error:null,is_loading:!1}},methods:c({},Object(s["b"])({fetchData:"category/list",delete:"category/delete"}),{getList:function(t){var e=this;this.is_loading=!0;var a=t.query.page?t.query.page:1,i=t.query.keyword?t.query.keyword:"",n=this.pagination.limit;this.fetchData({page:a,keyword:i,limit:n}).then((function(t){var a=t.data,i=a.code,n=void 0===i?0:i,o=a.data;n?(e.is_error=null,e.pagination=Object.assign(e.pagination,o)):e.is_error=!0})).catch((function(t){e.is_error=!0})).finally((function(){e.is_loading=!1}))},reload:function(){this.getList(this.$route)},onChangeKeyword:function(){var t={},e=this.pagination.keyword.trim();e&&(t["keyword"]=e),this.pushRouterLinkDefault({query:t})},onKeyword:function(t){var e=this;clearTimeout(this.timeout),13==t.keyCode?"function"==typeof this.onChangeKeyword&&this.onChangeKeyword():this.timeout=setTimeout((function(){"function"==typeof e.onChangeKeyword&&e.onChangeKeyword()}),1e3)},remove:function(t){var e=this;this.$confirm.show({title:"Confirm",content:"Do do want to delete this user ?",btnSave:"Delete",btnSaveClass:"warning",btnClose:"Cancel",onSave:function(){return new Promise((function(a,i){e.delete(t).then((function(t){var a=t.data,i=a.code,n=a.message,o=void 0===n?"":n;i?(e.reload(),e.$toasted.success(o)):e.$toasted.error(o)})).catch((function(t){console.log(t),e.$toasted.error("Error !")})).finally((function(t){a()}))}))}})}}),beforeRouteUpdate:function(t,e,a){this.getList(t),a()},created:function(){this.pagination.keyword=this.$route.query.keyword?this.$route.query.keyword:"",this.getList(this.$route)}},l=d,u=(a("564d"),a("2877")),p=Object(u["a"])(l,i,n,!1,null,"efab982a",null);e["default"]=p.exports}}]);
//# sourceMappingURL=layout-views-category-index-vue.b324063d.js.map