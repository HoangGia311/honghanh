(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-cooking-edit-vue"],{"386b":function(e,t,i){var a=i("5ca1"),r=i("79e5"),s=i("be13"),o=/"/g,n=function(e,t,i,a){var r=String(s(e)),n="<"+t;return""!==i&&(n+=" "+i+'="'+String(a).replace(o,"&quot;")+'"'),n+">"+r+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(n),a(a.P+a.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},"44b6":function(e,t,i){"use strict";var a=i("670f"),r=i.n(a);r.a},"504c":function(e,t,i){var a=i("9e1e"),r=i("0d58"),s=i("6821"),o=i("52a7").f;e.exports=function(e){return function(t){var i,n=s(t),l=r(n),c=l.length,d=0,m=[];while(c>d)i=l[d++],a&&!o.call(n,i)||m.push(e?[i,n[i]]:n[i]);return m}}},"670f":function(e,t,i){},"82ec":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.is_loading_page?i("div",{key:"is-loading",staticClass:"page"},[i("div",{staticClass:"page-body p-t-150 p-b-150 text-center"},[i("span",{staticClass:"spinner-border text-primary icon-loading"})])]):i("div",{key:"is-loading-success"},[e.is_error?i("div",{staticClass:"m-t-30"},[i("section",{staticClass:"zero-state full-width"},[i("article",[i("h1",[e._v("404")]),i("h3",[e._v("Data not found !")]),i("router-link",{staticClass:"button primary",attrs:{to:{name:"Cooking"}}},[e._v("\n\t\t\t\t\t\t\tBack to list\n\t\t\t\t\t\t")])],1)])]):i("div",{staticClass:"page page-center"},[i("div",{staticClass:"page-header"},[i("div",{staticClass:"page-title"},[i("h1",[e._v("Update Cooking")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col col-6"},[i("router-link",{staticClass:"button secondary btn-back",attrs:{to:{name:"Cooking"}}},[i("i",{staticClass:"icon-prev m-r-15"}),e._v(" Back\n\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"col col-6 text-right"},[i("button",{class:{"is-loading":e.is_loading},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.submit(t)}}},[e._v("\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t")])])])]),i("div",{staticClass:"page-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-12"},[i("div",{staticClass:"card"},[i("div",{key:"vi",staticClass:"card-section"},[i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.vi.title.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("Vi Title ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vi.title,expression:"form.vi.title"}],attrs:{type:"text"},domProps:{value:e.form.vi.title},on:{input:function(t){t.target.composing||e.$set(e.form.vi,"title",t.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.vi.description.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("Vi Description")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.vi.description,expression:"form.vi.description"}],attrs:{rows:"4"},domProps:{value:e.form.vi.description},on:{input:function(t){t.target.composing||e.$set(e.form.vi,"description",t.target.value)}}})]),i("div",{staticClass:"m-b-15"},[i("label",{staticClass:"m-b-5"},[e._v("Ingredients")]),i("div",{staticClass:"p-l-30"},[e._l(e.form.vi.properties.ingredients,function(t,a){return i("div",{key:"index_"+a,staticClass:"row"},[i("div",{staticClass:"col col-4",class:{error:e.formstate&&e.vi_ingredients[a].name.$invalid}},[i("label",[e._v("Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(i){i.target.composing||e.$set(t,"name",i.target.value)}}})]),i("div",{staticClass:"col col-7",class:{error:e.formstate&&e.vi_ingredients[a].value.$invalid}},[i("label",[e._v("Value")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}})]),i("div",{staticClass:"col col-1"},[i("label",[e._v(" ")]),i("button",{staticClass:"secondary icon-trash",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.vi.properties.ingredients.splice(a,1)}}})])])}),i("div",[i("button",{staticClass:"secondary icon-addition",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.vi.properties.ingredients.push({name:"",value:""})}}})])],2)]),i("div",{staticClass:"m-b-15"},[i("label",{staticClass:"m-b-5"},[e._v("Process")]),i("div",{staticClass:"p-l-30"},[e._l(e.form.vi.properties.process,function(t,a){return i("div",{key:"index_"+a,staticClass:"row"},[i("div",{staticClass:"col col-11 ck-200",class:{error:e.formstate&&e.vi_process[a].value.$invalid}},[i("label",[e._v("Step")]),i("ckeditor",{attrs:{editor:e.editor},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1),i("div",{staticClass:"col col-1"},[i("label",[e._v(" ")]),i("button",{staticClass:"secondary icon-trash",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.vi.properties.process.splice(a,1)}}})])])}),i("div",[i("button",{staticClass:"secondary icon-addition",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.vi.properties.process.push({value:""})}}})])],2)])])]),i("div",{staticClass:"card"},[i("div",{key:"en",staticClass:"card-section"},[i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.en.title.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("En Title ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.en.title,expression:"form.en.title"}],attrs:{type:"text"},domProps:{value:e.form.en.title},on:{input:function(t){t.target.composing||e.$set(e.form.en,"title",t.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.en.description.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("En Description")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.en.description,expression:"form.en.description"}],attrs:{rows:"4"},domProps:{value:e.form.en.description},on:{input:function(t){t.target.composing||e.$set(e.form.en,"description",t.target.value)}}})]),i("div",{staticClass:"m-b-15"},[i("label",{staticClass:"m-b-5"},[e._v("Ingredients")]),i("div",{staticClass:"p-l-30"},[e._l(e.form.en.properties.ingredients,function(t,a){return i("div",{key:"index_"+a,staticClass:"row"},[i("div",{staticClass:"col col-4",class:{error:e.formstate&&e.en_ingredients[a].name.$invalid}},[i("label",[e._v("Name")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(i){i.target.composing||e.$set(t,"name",i.target.value)}}})]),i("div",{staticClass:"col col-7",class:{error:e.formstate&&e.en_ingredients[a].value.$invalid}},[i("label",[e._v("Value")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],attrs:{type:"text"},domProps:{value:t.value},on:{input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}})]),i("div",{staticClass:"col col-1"},[i("label",[e._v(" ")]),i("button",{staticClass:"secondary icon-trash",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.en.properties.ingredients.splice(a,1)}}})])])}),i("div",[i("button",{staticClass:"secondary icon-addition",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.en.properties.ingredients.push({name:"",value:""})}}})])],2)]),i("div",{staticClass:"m-b-15"},[i("label",{staticClass:"m-b-5"},[e._v("Process")]),i("div",{staticClass:"p-l-30"},[e._l(e.form.en.properties.process,function(t,a){return i("div",{key:"index_"+a,staticClass:"row"},[i("div",{staticClass:"col col-11 ck-200",class:{error:e.formstate&&e.en_process[a].value.$invalid}},[i("label",[e._v("Step")]),i("ckeditor",{attrs:{editor:e.editor},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}})],1),i("div",{staticClass:"col col-1"},[i("label",[e._v(" ")]),i("button",{staticClass:"secondary icon-trash",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.en.properties.process.splice(a,1)}}})])])}),i("div",[i("button",{staticClass:"secondary icon-addition",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.form.en.properties.process.push({value:""})}}})])],2)])])]),i("div",{staticClass:"card"},[i("div",{key:"seo",staticClass:"card-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-12"},[i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.link.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("Youtube Video ID")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.link,expression:"form.link"}],attrs:{type:"text"},domProps:{value:e.form.link},on:{input:function(t){t.target.composing||e.$set(e.form,"link",t.target.value)}}})])])])])]),i("div",{staticClass:"card"},[i("div",{key:"seo",staticClass:"card-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-3"},[i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.primary_image.$invalid}},[i("div",{staticClass:"box-item-image",on:{click:e.gallery}},[e.form.primary_image?[i("img",{attrs:{src:e.form.primary_image.path,alt:""}})]:[i("i",{staticClass:"icon-add-section"})]],2)])]),i("div",{staticClass:"col col-9"},[i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.meta.meta_title.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("Meta title ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta.meta_title,expression:"form.meta.meta_title"}],attrs:{type:"text"},domProps:{value:e.form.meta.meta_title},on:{input:function(t){t.target.composing||e.$set(e.form.meta,"meta_title",t.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.meta.meta_description.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("Meta description")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta.meta_description,expression:"form.meta.meta_description"}],attrs:{type:"text"},domProps:{value:e.form.meta.meta_description},on:{input:function(t){t.target.composing||e.$set(e.form.meta,"meta_description",t.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:e.formstate&&e.$v.form.meta.meta_keyword.$invalid}},[i("label",{staticClass:"m-b-5"},[e._v("Meta keyword ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.meta.meta_keyword,expression:"form.meta.meta_keyword"}],attrs:{type:"text"},domProps:{value:e.form.meta.meta_keyword},on:{input:function(t){t.target.composing||e.$set(e.form.meta,"meta_keyword",t.target.value)}}})])])])])])])])])])])])},r=[],s=(i("b54a"),i("cebc")),o=(i("ac6a"),i("8615"),i("b5ae")),n=i("2f62"),l=i("c7a0"),c=i.n(l),d=i("5fd3"),m=i.n(d),u={name:"UpdateCooking",components:{VueTagsInput:c.a},data:function(){return{formstate:!1,is_loading_page:!1,is_loading:!1,is_error:!1,active:"vi",editor:m.a,form:{primary_image:"",link:"",vi:{title:"",description:"",properties:{ingredients:[{name:"",value:""}],process:[{value:""}]}},en:{title:"",description:"",properties:{ingredients:[{name:"",value:""}],process:[{value:""}]}},meta:{meta_title:"",meta_description:"",meta_keyword:""}}}},computed:{vi_ingredients:function(){return Object.values(this.$v.form.vi.properties.ingredients.$each.$iter)},vi_process:function(){return Object.values(this.$v.form.vi.properties.process.$each.$iter)},en_ingredients:function(){return Object.values(this.$v.form.en.properties.ingredients.$each.$iter)},en_process:function(){return Object.values(this.$v.form.en.properties.process.$each.$iter)}},methods:Object(s["a"])({},Object(n["b"])({update:"cooking/update",get:"cooking/get"}),{gallery:function(){var e=this;this.$gallery.show(function(t){e.form.primary_image=t})},submit:function(){var e=this;if(this.formstate=!0,!this.is_loading)if(0==this.$v.form.$invalid){this.is_loading=!0;var t=JSON.parse(JSON.stringify(this.form));t.vi["properties"]["process"]=t.vi.properties.process.map(function(e){return e.value}),t.en["properties"]["process"]=t.en.properties.process.map(function(e){return e.value}),t.primary_image=t.primary_image.id,this.update({id:this.form.id,formdata:t}).then(function(t){var i=t.data,a=i.code,r=i.message,s=void 0===r?"Oops.. Something Went Wrong.. !":r;a?(e.redirect({name:"Cooking"}),e.$toasted.success("Create Cooking successfully !")):e.$toasted.error(s)}).finally(function(){e.is_loading=!1})}else this.$toasted.error("Please check form !")}}),created:function(){var e=this;this.is_loading_page=!0,this.get(this.$route.params.id).then(function(t){var i=t.data,a=i.code,r=i.data;i.message;if(a){var s=r.cooking;e.form={id:s.id,primary_image:s.image,link:s.link,vi:{title:s.vi.title,description:s.vi.description,properties:{ingredients:s.vi.properties.ingredients,process:s.vi.properties.process.map(function(e){return{value:e}})}},en:{title:s.en.title,description:s.en.description,properties:{ingredients:s.en.properties.ingredients,process:s.en.properties.process.map(function(e){return{value:e}})}},meta:s.meta}}else e.is_error=!0}).catch(function(t){console.log(t),e.is_error=!0}).finally(function(){e.is_loading_page=!1})},validations:function(){return{form:{vi:{title:{required:o["required"]},description:{required:o["required"]},properties:{ingredients:{required:o["required"],$each:{name:{required:o["required"]},value:{required:o["required"]}}},process:{required:o["required"],$each:{value:{required:o["required"]}}}}},en:{title:{required:o["required"]},description:{required:o["required"]},properties:{ingredients:{required:o["required"],$each:{name:{required:o["required"]},value:{required:o["required"]}}},process:{required:o["required"],$each:{value:{required:o["required"]}}}}},primary_image:{required:o["required"]},link:{required:o["required"]},meta:{meta_title:{required:o["required"]},meta_description:{required:o["required"]},meta_keyword:{required:o["required"]}}}}}},v=u,p=(i("44b6"),i("2877")),f=Object(p["a"])(v,a,r,!1,null,"33ef56b6",null);t["default"]=f.exports},8615:function(e,t,i){var a=i("5ca1"),r=i("504c")(!1);a(a.S,"Object",{values:function(e){return r(e)}})},b54a:function(e,t,i){"use strict";i("386b")("link",function(e){return function(t){return e(this,"a","href",t)}})}}]);
//# sourceMappingURL=layout-views-cooking-edit-vue.f4ea70a6.js.map