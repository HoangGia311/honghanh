(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-post-edit-vue"],{"14e6":function(t,e,i){"use strict";var a=i("55b5"),r=i.n(a);r.a},"184f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.is_loading_page?i("div",{key:"is-loading",staticClass:"page"},[i("div",{staticClass:"page-body p-t-150 p-b-150 text-center"},[i("span",{staticClass:"spinner-border text-primary icon-loading"})])]):i("div",{key:"is-loading-success"},[t.is_error?i("div",{staticClass:"m-t-30"},[i("section",{staticClass:"zero-state full-width"},[i("article",[i("h1",[t._v("404")]),i("h3",[t._v("Data not found !")]),i("router-link",{staticClass:"button primary",attrs:{to:{name:"Product"}}},[t._v("\n\t\t\t\t\t\t\tBack to list\n\t\t\t\t\t\t")])],1)])]):i("div",{staticClass:"page page-center"},[i("div",{staticClass:"page-header"},[i("div",{staticClass:"page-title"},[i("h1",[t._v("Update Post")])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col col-6"},[i("router-link",{staticClass:"button secondary btn-back",attrs:{to:{name:"Product"}}},[i("i",{staticClass:"icon-prev m-r-15"}),t._v(" Back\n\t\t\t\t\t\t\t")])],1),i("div",{staticClass:"col col-6 text-right"},[i("button",{class:{"is-loading":t.is_loading},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.submit(e)}}},[t._v("\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t")])])])]),i("div",{staticClass:"page-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-12"},[i("div",{staticClass:"card"},[i("div",{key:"content",staticClass:"card-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-12"},[i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.category_id.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Category")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.form.category_id,expression:"form.category_id"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.form,"category_id",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:""}},[t._v("--- select cateogry ---")]),t._l(t.categories,function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.vi?e.vi.name:""))])})],2)])])])])]),i("div",{staticClass:"card"},[i("div",{key:"vi",staticClass:"card-section"},[i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.vi.name.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Vi Title ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vi.title,expression:"form.vi.title"}],attrs:{type:"text"},domProps:{value:t.form.vi.title},on:{input:function(e){e.target.composing||t.$set(t.form.vi,"title",e.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.vi.description.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Vi Description")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.vi.description,expression:"form.vi.description"}],attrs:{rows:"5"},domProps:{value:t.form.vi.description},on:{input:function(e){e.target.composing||t.$set(t.form.vi,"description",e.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.vi.content.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Vi Content")]),i("ckeditor",{attrs:{editor:t.editor},model:{value:t.form.vi.content,callback:function(e){t.$set(t.form.vi,"content",e)},expression:"form.vi.content"}})],1)])]),i("div",{staticClass:"card"},[i("div",{key:"en",staticClass:"card-section"},[i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.en.name.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("En Title ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.en.title,expression:"form.en.title"}],attrs:{type:"text"},domProps:{value:t.form.en.title},on:{input:function(e){e.target.composing||t.$set(t.form.en,"title",e.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.en.description.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("En Description")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.en.description,expression:"form.en.description"}],attrs:{rows:"5"},domProps:{value:t.form.en.description},on:{input:function(e){e.target.composing||t.$set(t.form.en,"description",e.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.en.content.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("En Content")]),i("ckeditor",{attrs:{editor:t.editor},model:{value:t.form.en.content,callback:function(e){t.$set(t.form.en,"content",e)},expression:"form.en.content"}})],1)])]),i("div",{staticClass:"card"},[i("div",{key:"seo",staticClass:"card-section"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col col-3"},[i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.primary_image.$invalid}},[i("div",{staticClass:"box-item-image",on:{click:t.gallery}},[t.form.primary_image?[i("img",{attrs:{src:t.form.primary_image.path,alt:""}})]:[i("i",{staticClass:"icon-add-section"})]],2)])]),i("div",{staticClass:"col col-9"},[i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.meta.meta_title.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Meta title ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.meta.meta_title,expression:"form.meta.meta_title"}],attrs:{type:"text"},domProps:{value:t.form.meta.meta_title},on:{input:function(e){e.target.composing||t.$set(t.form.meta,"meta_title",e.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.meta.meta_description.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Meta description")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.meta.meta_description,expression:"form.meta.meta_description"}],attrs:{type:"text"},domProps:{value:t.form.meta.meta_description},on:{input:function(e){e.target.composing||t.$set(t.form.meta,"meta_description",e.target.value)}}})]),i("div",{staticClass:"m-b-15",class:{error:t.formstate&&t.$v.form.meta.meta_keyword.$invalid}},[i("label",{staticClass:"m-b-5"},[t._v("Meta keyword ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.meta.meta_keyword,expression:"form.meta.meta_keyword"}],attrs:{type:"text"},domProps:{value:t.form.meta.meta_keyword},on:{input:function(e){e.target.composing||t.$set(t.form.meta,"meta_keyword",e.target.value)}}})])])])])])])])])])])])},r=[],s=i("cebc"),o=i("b5ae"),n=i("2f62"),c=i("c7a0"),l=i.n(c),m=i("5fd3"),d=i.n(m),v={name:"UpdateProduct",components:{VueTagsInput:l.a},data:function(){return{formstate:!1,is_loading_page:!1,is_loading:!1,is_error:!1,active:"vi",editor:d.a,categories:[],form:{primary_image:"",category_id:"",vi:{title:"",description:"",properties:[{name:"Độ Đạm",value:"",children:[]},{name:"Thể tích",value:"",children:[]}]},en:{title:"",description:"",properties:[{name:"Do dam",value:"",children:[]},{name:"The tich",value:"",children:[]}]},meta:{meta_title:"",meta_description:"",meta_keyword:""}}}},methods:Object(s["a"])({},Object(n["b"])({update:"post/update",get:"post/get",allCategory:"post/getCreate"}),{gallery:function(){var t=this;this.$gallery.show(function(e){t.form.primary_image=e})},submit:function(){var t=this;if(this.formstate=!0,!this.is_loading)if(0==this.$v.form.$invalid){this.is_loading=!0;var e=JSON.parse(JSON.stringify(this.form));e.primary_image=e.primary_image.id,this.update({id:this.form.id,formdata:e}).then(function(e){var i=e.data,a=i.code,r=i.message,s=void 0===r?"Oops.. Something Went Wrong.. !":r;a?(t.redirect({name:"Post"}),t.$toasted.success("Create Product successfully !")):t.$toasted.error(s)}).finally(function(){t.is_loading=!1})}else this.$toasted.error("Please check form !")}}),created:function(){var t=this;this.is_loading_page=!0,this.get(this.$route.params.id).then(function(e){var i=e.data,a=i.code,r=i.data;i.message;if(a){var s=r.post,o=r.categories;t.categories=o,t.form={id:s.id,primary_image:s.image,category_id:s.category_id,vi:{title:s.vi.title,description:s.vi.description,content:s.vi.content},en:{title:s.en.title,description:s.en.description,content:s.en.content},meta:s.meta}}else t.is_error=!0}).catch(function(e){console.log(e),t.is_error=!0}).finally(function(){t.is_loading_page=!1})},validations:function(){return{form:{vi:{title:{required:o["required"]},description:{required:o["required"]},content:{required:o["required"]}},en:{title:{required:o["required"]},description:{required:o["required"]},content:{required:o["required"]}},category_id:{required:o["required"]},primary_image:{required:o["required"]},meta:{meta_title:{required:o["required"]},meta_description:{required:o["required"]},meta_keyword:{required:o["required"]}}}}}},u=v,p=(i("14e6"),i("2877")),f=Object(p["a"])(u,a,r,!1,null,"7aef7f0e",null);e["default"]=f.exports},"55b5":function(t,e,i){}}]);
//# sourceMappingURL=layout-views-post-edit-vue.83ecab3c.js.map